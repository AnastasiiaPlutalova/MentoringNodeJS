"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports["default"] = void 0;var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _services = require("../services");var

UserController = function UserController() {(0, _classCallCheck2["default"])(this, UserController);this.
  getUsers = /*#__PURE__*/function () {var _ref = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee(req, res) {var users;return _regenerator["default"].wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:_context.prev = 0;_context.next = 3;return (

                _services.UserService.getUsers());case 3:users = _context.sent;return _context.abrupt("return",
              res.status(200).json({ status: 200, data: users, message: 'SUCCESS' }));case 7:_context.prev = 7;_context.t0 = _context["catch"](0);return _context.abrupt("return",

              res.status(500).json({ status: 500, message: _context.t0.message }));case 10:case "end":return _context.stop();}}}, _callee, null, [[0, 7]]);}));return function (_x, _x2) {return _ref.apply(this, arguments);};}();this.



  getUserById = /*#__PURE__*/function () {var _ref2 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee2(req, res) {var id, user;return _regenerator["default"].wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.prev = 0;

              id = req.params.id;_context2.next = 4;return (
                _services.UserService.getUserById(id));case 4:user = _context2.sent;if (!
              user) {_context2.next = 7;break;}return _context2.abrupt("return",
              res.status(200).json({ status: 200, data: user, message: 'SUCCESS' }));case 7:return _context2.abrupt("return",

              res.status(404).json({ status: 404, data: user, message: 'EMPTY' }));case 10:_context2.prev = 10;_context2.t0 = _context2["catch"](0);return _context2.abrupt("return",

              res.status(500).json({ status: 500, message: _context2.t0.message }));case 13:case "end":return _context2.stop();}}}, _callee2, null, [[0, 10]]);}));return function (_x3, _x4) {return _ref2.apply(this, arguments);};}();this.



  createUser = /*#__PURE__*/function () {var _ref3 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee3(req, res) {var user, newUser;return _regenerator["default"].wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:_context3.prev = 0;

              user = req.body.user;_context3.next = 4;return (
                _services.UserService.createUser(user));case 4:newUser = _context3.sent;return _context3.abrupt("return",
              res.status(200).json({ status: 200, data: newUser, message: 'SUCCESS' }));case 8:_context3.prev = 8;_context3.t0 = _context3["catch"](0);return _context3.abrupt("return",

              res.status(500).json({ status: 500, message: _context3.t0.message }));case 11:case "end":return _context3.stop();}}}, _callee3, null, [[0, 8]]);}));return function (_x5, _x6) {return _ref3.apply(this, arguments);};}();this.



  updateUser = /*#__PURE__*/function () {var _ref4 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee4(req, res) {var user, updatedUser;return _regenerator["default"].wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:_context4.prev = 0;

              user = req.body.user;_context4.next = 4;return (
                _services.UserService.updateUser(user));case 4:updatedUser = _context4.sent;return _context4.abrupt("return",
              res.status(200).json({ status: 200, data: updatedUser, message: 'SUCCESS' }));case 8:_context4.prev = 8;_context4.t0 = _context4["catch"](0);return _context4.abrupt("return",

              res.status(500).json({ status: 500, message: _context4.t0.message }));case 11:case "end":return _context4.stop();}}}, _callee4, null, [[0, 8]]);}));return function (_x7, _x8) {return _ref4.apply(this, arguments);};}();this.



  deleteUser = /*#__PURE__*/function () {var _ref5 = (0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee5(req, res) {var id, user;return _regenerator["default"].wrap(function _callee5$(_context5) {while (1) {switch (_context5.prev = _context5.next) {case 0:_context5.prev = 0;

              id = req.params.id;_context5.next = 4;return (
                _services.UserService.deleteUser(id));case 4:user = _context5.sent;return _context5.abrupt("return",
              res.status(200).json({ status: 200, data: user, message: 'SUCCESS' }));case 8:_context5.prev = 8;_context5.t0 = _context5["catch"](0);return _context5.abrupt("return",

              res.status(500).json({ status: 500, message: _context5.t0.message }));case 11:case "end":return _context5.stop();}}}, _callee5, null, [[0, 8]]);}));return function (_x9, _x10) {return _ref5.apply(this, arguments);};}();};var _default =




new UserController();exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb250cm9sbGVycy91c2VyQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJVc2VyQ29udHJvbGxlciIsImdldFVzZXJzIiwicmVxIiwicmVzIiwiVXNlclNlcnZpY2UiLCJ1c2VycyIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsImdldFVzZXJCeUlkIiwiaWQiLCJwYXJhbXMiLCJ1c2VyIiwiY3JlYXRlVXNlciIsImJvZHkiLCJuZXdVc2VyIiwidXBkYXRlVXNlciIsInVwZGF0ZWRVc2VyIiwiZGVsZXRlVXNlciJdLCJtYXBwaW5ncyI6ImlkQUFBLHVDOztBQUVNQSxjO0FBQ0ZDLEVBQUFBLFEsc0hBQVcsaUJBQU9DLEdBQVAsRUFBWUMsR0FBWjs7QUFFaUJDLHNDQUFZSCxRQUFaLEVBRmpCLFNBRUdJLEtBRkg7QUFHSUYsY0FBQUEsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUQsTUFBTSxFQUFFLEdBQVYsRUFBZUUsSUFBSSxFQUFFSCxLQUFyQixFQUE0QkksT0FBTyxFQUFFLFNBQXJDLEVBQXJCLENBSEo7O0FBS0lOLGNBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVELE1BQU0sRUFBRSxHQUFWLEVBQWVHLE9BQU8sRUFBRSxZQUFFQSxPQUExQixFQUFyQixDQUxKLDJFOzs7O0FBU1hDLEVBQUFBLFcsdUhBQWMsa0JBQU9SLEdBQVAsRUFBWUMsR0FBWjs7QUFFRVEsY0FBQUEsRUFGRixHQUVTVCxHQUFHLENBQUNVLE1BRmIsQ0FFRUQsRUFGRjtBQUdhUCxzQ0FBWU0sV0FBWixDQUF3QkMsRUFBeEIsQ0FIYixTQUdBRSxJQUhBO0FBSUZBLGNBQUFBLElBSkU7QUFLS1YsY0FBQUEsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUQsTUFBTSxFQUFFLEdBQVYsRUFBZUUsSUFBSSxFQUFFSyxJQUFyQixFQUEyQkosT0FBTyxFQUFFLFNBQXBDLEVBQXJCLENBTEw7O0FBT0NOLGNBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVELE1BQU0sRUFBRSxHQUFWLEVBQWVFLElBQUksRUFBRUssSUFBckIsRUFBMkJKLE9BQU8sRUFBRSxPQUFwQyxFQUFyQixDQVBEOztBQVNDTixjQUFBQSxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFRCxNQUFNLEVBQUUsR0FBVixFQUFlRyxPQUFPLEVBQUUsYUFBRUEsT0FBMUIsRUFBckIsQ0FURCw4RTs7OztBQWFkSyxFQUFBQSxVLHVIQUFhLGtCQUFPWixHQUFQLEVBQVlDLEdBQVo7O0FBRUdVLGNBQUFBLElBRkgsR0FFWVgsR0FBRyxDQUFDYSxJQUZoQixDQUVHRixJQUZIO0FBR2lCVCxzQ0FBWVUsVUFBWixDQUF1QkQsSUFBdkIsQ0FIakIsU0FHQ0csT0FIRDtBQUlFYixjQUFBQSxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFRCxNQUFNLEVBQUUsR0FBVixFQUFlRSxJQUFJLEVBQUVRLE9BQXJCLEVBQThCUCxPQUFPLEVBQUUsU0FBdkMsRUFBckIsQ0FKRjs7QUFNRU4sY0FBQUEsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUQsTUFBTSxFQUFFLEdBQVYsRUFBZUcsT0FBTyxFQUFFLGFBQUVBLE9BQTFCLEVBQXJCLENBTkYsNkU7Ozs7QUFVYlEsRUFBQUEsVSx1SEFBYSxrQkFBT2YsR0FBUCxFQUFZQyxHQUFaOztBQUVHVSxjQUFBQSxJQUZILEdBRVlYLEdBQUcsQ0FBQ2EsSUFGaEIsQ0FFR0YsSUFGSDtBQUdxQlQsc0NBQVlhLFVBQVosQ0FBdUJKLElBQXZCLENBSHJCLFNBR0NLLFdBSEQ7QUFJRWYsY0FBQUEsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUQsTUFBTSxFQUFFLEdBQVYsRUFBZUUsSUFBSSxFQUFFVSxXQUFyQixFQUFrQ1QsT0FBTyxFQUFFLFNBQTNDLEVBQXJCLENBSkY7O0FBTUVOLGNBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVELE1BQU0sRUFBRSxHQUFWLEVBQWVHLE9BQU8sRUFBRSxhQUFFQSxPQUExQixFQUFyQixDQU5GLDZFOzs7O0FBVWJVLEVBQUFBLFUsdUhBQWEsa0JBQU9qQixHQUFQLEVBQVlDLEdBQVo7O0FBRUdRLGNBQUFBLEVBRkgsR0FFVVQsR0FBRyxDQUFDVSxNQUZkLENBRUdELEVBRkg7QUFHY1Asc0NBQVllLFVBQVosQ0FBdUJSLEVBQXZCLENBSGQsU0FHQ0UsSUFIRDtBQUlFVixjQUFBQSxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFRCxNQUFNLEVBQUUsR0FBVixFQUFlRSxJQUFJLEVBQUVLLElBQXJCLEVBQTJCSixPQUFPLEVBQUUsU0FBcEMsRUFBckIsQ0FKRjs7QUFNRU4sY0FBQUEsR0FBRyxDQUFDRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUQsTUFBTSxFQUFFLEdBQVYsRUFBZUcsT0FBTyxFQUFFLGFBQUVBLE9BQTFCLEVBQXJCLENBTkYsNkU7Ozs7O0FBV0YsSUFBSVQsY0FBSixFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcyc7XHJcblxyXG5jbGFzcyBVc2VyQ29udHJvbGxlciB7XHJcbiAgICBnZXRVc2VycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlclNlcnZpY2UuZ2V0VXNlcnMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3RhdHVzOiAyMDAsIGRhdGE6IHVzZXJzLCBtZXNzYWdlOiAnU1VDQ0VTUycgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogZS5tZXNzYWdlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VyQnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyU2VydmljZS5nZXRVc2VyQnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdGF0dXM6IDIwMCwgZGF0YTogdXNlciwgbWVzc2FnZTogJ1NVQ0NFU1MnIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN0YXR1czogNDA0LCBkYXRhOiB1c2VyLCBtZXNzYWdlOiAnRU1QVFknIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3RhdHVzOiA1MDAsIG1lc3NhZ2U6IGUubWVzc2FnZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2VyU2VydmljZS5jcmVhdGVVc2VyKHVzZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdGF0dXM6IDIwMCwgZGF0YTogbmV3VXNlciwgbWVzc2FnZTogJ1NVQ0NFU1MnIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3RhdHVzOiA1MDAsIG1lc3NhZ2U6IGUubWVzc2FnZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgVXNlclNlcnZpY2UudXBkYXRlVXNlcih1c2VyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3RhdHVzOiAyMDAsIGRhdGE6IHVwZGF0ZWRVc2VyLCBtZXNzYWdlOiAnU1VDQ0VTUycgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdGF0dXM6IDUwMCwgbWVzc2FnZTogZS5tZXNzYWdlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJTZXJ2aWNlLmRlbGV0ZVVzZXIoaWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdGF0dXM6IDIwMCwgZGF0YTogdXNlciwgbWVzc2FnZTogJ1NVQ0NFU1MnIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3RhdHVzOiA1MDAsIG1lc3NhZ2U6IGUubWVzc2FnZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBVc2VyQ29udHJvbGxlcigpO1xyXG4iXX0=